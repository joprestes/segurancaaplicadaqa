{% assign module_info = site.data.modules.modules | where: "id", page.module | first %}
{% assign module_title = module_info.title | default: page.title %}
{% assign module_slug = module_info.slug | default: page.module %}

<div class="module-summary-page">
  <header class="module-summary-hero">
    <div class="hero-icon" aria-hidden="true">ğŸ¯</div>
    <div class="hero-content">
      <p class="hero-kicker">Resumo do MÃ³dulo</p>
      <h1>{{ page.title }}</h1>
      <p class="hero-subtitle">Veja seu desempenho e descubra quem vocÃª Ã© como profissional de seguranÃ§a!</p>
    </div>
  </header>

  <section class="module-summary-body" id="module-summary-container" data-module-id="{{ page.module }}">
    <div class="module-summary-stats">
      <article class="summary-stat-card progress-card">
        <div class="progress-circle" data-progress="0">
          <svg viewBox="0 0 140 140" role="img" aria-labelledby="progress-title">
            <title id="progress-title">MÃ©dia geral dos quizzes</title>
            <circle class="progress-track" cx="70" cy="70" r="60"></circle>
            <circle class="progress-indicator" cx="70" cy="70" r="60"></circle>
          </svg>
          <div class="progress-value" id="average-score">0%</div>
        </div>
        <div class="stat-meta">
          <span class="stat-label">MÃ©dia Geral</span>
          <p class="stat-helper">Acompanhe sua evoluÃ§Ã£o a cada quiz completado.</p>
        </div>
      </article>

      <article class="summary-stat-card quizzes-card">
        <div class="icon-pill" aria-hidden="true">ğŸ“</div>
        <div class="stat-meta">
          <div class="stat-value" id="completed-quizzes">0/0</div>
          <span class="stat-label">Quizzes Completos</span>
          <span class="stat-check">
            <span class="check-icon" aria-hidden="true">âœ”</span>
            Tudo em dia
          </span>
        </div>
      </article>
    </div>

    <article class="classification-panel" id="classification-badge">
      <div class="badge-icon pulse" id="badge-icon" aria-hidden="true">ğŸ›¡ï¸</div>
      <div class="badge-content">
        <p class="badge-label" id="classification-title">Sua ClassificaÃ§Ã£o Atual</p>
        <h2 id="classification-name">GuardiÃ£o em FormaÃ§Ã£o</h2>
        <p id="classification-description">Estamos analisando seus resultados...</p>
      </div>
    </article>

    <article class="motivation-card">
      <div class="motivation-icon" aria-hidden="true">ğŸ’¡</div>
      <div>
        <h3>Continue Evoluindo!</h3>
        <p>VocÃª estÃ¡ no caminho certo! Revise o conteÃºdo e refaÃ§a os quizzes para melhorar seu desempenho.</p>
      </div>
    </article>

    <section class="quiz-results-section">
      <div class="section-header">
        <div>
          <p class="section-kicker">Status dos quizzes</p>
          <h2>Resultados dos Quizzes</h2>
        </div>
      </div>
      <div class="quiz-results-grid" id="quiz-results-grid" role="list">
        <!-- Resultados carregados via JavaScript -->
      </div>
    </section>

    <div class="module-summary-actions">
      <button class="btn-primary" id="continue-next-module">
        Continuar para PrÃ³ximo MÃ³dulo â†’
      </button>
      <button class="btn-secondary" id="review-module">
        Revisar MÃ³dulo
      </button>
    </div>
  </section>
</div>

<script src="{{ '/assets/js/module-summary.js' | relative_url }}"></script>
<script src="{{ '/assets/js/module-gate.js' | relative_url }}"></script>