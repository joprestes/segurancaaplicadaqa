---
exercise_id: lesson-2-5-exercise-4-cve-war-room
title: "Exerc√≠cio 2.5.4: War Room de CVE Cr√≠tica (Log4Shell)"
lesson_id: lesson-2-5
module: module-2
difficulty: "Avan√ßado"
last_updated: 2026-01-24
---

# Exerc√≠cio 2.5.4: War Room de CVE Cr√≠tica (Log4Shell)

## üìã Enunciado Completo

**Cen√°rio**: CVE-2021-44228 (Log4Shell) publicado h√° 2h. CVSS 10.0. Voc√™ tem 4h para mapear exposi√ß√£o.

### Tarefa
1. Identificar exposi√ß√£o usando SBOM
2. Priorizar sistemas por criticidade
3. Implementar mitiga√ß√µes tempor√°rias
4. Planejar patch completo
5. Comunicar para stakeholders

---

## ‚úÖ Solu√ß√µes Detalhadas

**Resposta esperada:**

```markdown
## War Room: Log4Shell Response

### Timeline
- **14:00**: CVE publicado
- **14:15**: Identifica√ß√£o via SBOM (7 apps vulner√°veis)
- **14:30**: Prioriza√ß√£o (APIs de Pagamento = P0)
- **15:00**: Mitiga√ß√£o tempor√°ria (JVM flag + WAF)
- **18:00**: Patch completo em staging

### A√ß√µes Imediatas
1. JVM flag: `-Dlog4j2.formatMsgNoLookups=true`
2. WAF rules: Bloquear `${jndi:ldap`, `${jndi:rmi`
3. Monitoramento 24/7

### Comunica√ß√£o
**Para CTO:**
> "Log4Shell afeta 7 apps. Mitiga√ß√µes aplicadas (2h). APIs cr√≠ticas protegidas. Patch completo: 24h."
```

---

## üìä Crit√©rios de Avalia√ß√£o

### ‚úÖ Essenciais
- [ ] Identificou exposi√ß√£o rapidamente (< 30min)
- [ ] Priorizou por criticidade
- [ ] Implementou mitiga√ß√µes
- [ ] Comunicou claramente

### ‚≠ê Importantes
- [ ] Usou SBOM para identifica√ß√£o r√°pida
- [ ] Mitiga√ß√µes tempor√°rias + patch
- [ ] Timeline documentado
- [ ] Retrospectiva (li√ß√µes aprendidas)

### üí° Diferencial
- [ ] Automatizou busca em m√∫ltiplos repos
- [ ] Runbook criado para futuras CVEs
- [ ] Validou mitiga√ß√µes com pentester

---

## üéì Pontos Importantes para Monitores

### Erros Comuns

**Erro 1: "Demorou muito para identificar (> 1h)"**
**Orienta√ß√£o**: "SBOM permite identifica√ß√£o em minutos. Se n√£o tinha SBOM, essa deveria ser primeira action item: gerar SBOM de todos os projetos."

**Erro 2: "Apenas patcheou sem mitiga√ß√£o tempor√°ria"**
**Orienta√ß√£o**: "Patch leva horas/dias. Mitiga√ß√£o tempor√°ria (WAF, JVM flag) protege IMEDIATAMENTE. Sempre: mitiga√ß√£o r√°pida + patch testado."

---

**√öltima atualiza√ß√£o**: 2026-01-24
